(function(e){function a(g){var f=g.data("sprData");if(f.xpos<=-(f.sceneW-f.frameW)){f.count+=1;if(f.count>=f.iterations){f.xpos=f.frameW;g.data("sprData",f);c(g);return}f.xpos=0}else{f.xpos-=f.frameW}if(typeof f.img!=="undefined"){f.img.css("left",f.xpos)}else{g.css("backgroundPosition","("+f.xpos+"px 0)")}g.data("sprData",f)}function d(g){var f=g.data("sprData"),h=function(i){return function(){a(i)}};if(typeof f==="undefined"||typeof f.interval!=="undefined"){return}a(g);f.interval=setInterval(h(g),f.rate);f.count=0;g.data("sprData",f)}function c(g){var f=g.data("sprData");if(typeof f==="undefined"||typeof f.interval==="undefined"){return}clearInterval(f.interval);f.interval=undefined;g.data("sprData",f)}var b={init:function(f){return this.each(function(){var j=e(this),i={fps:10,autoPlay:false,frames:2,frameWidth:NaN,iterations:"infinite",useImage:false},g=j.data("sprData")||{},h;e.extend(i,f);h=i.frameW||j.width();e.extend(g,{rate:Math.round((1/i.fps)*1000),frames:i.frames,frameW:h,css:(i.useImage===true)?"left":"bg-position-x",dir:-1,interval:undefined,iterations:i.iterations,img:e(i.useImage===true)?e("img",j):undefined,sceneW:i.frames*h,xpos:h});j.data("sprData",g);if(i.autoPlay===true){d(j)}})},start:function(){return this.each(function(){var f=e(this);d(f)})},stop:function(){return this.each(function(){var f=e(this);c(f)})}};e.fn.spriter=function(f){if(b[f]){return b[f].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof f==="object"||!f){return b.init.apply(this,arguments)}else{e.error("Method "+f+" does not exist on jQuery.spriter")}}}}(jQuery));